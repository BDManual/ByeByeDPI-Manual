# Проблемы и решения

1. [Вылетает подбор](#crash-proxy-test)
2. [В ходе проверки у всех стратегий 0%](#only-0)
3. [У команд (стратегий) одинаковый невысокий процент](#equally-low-percentage)
4. [Нет разрешения на активацию VPN](#permission)
5. [Работает только на Wi-Fi или только на мобильном интернете, или только на одном провайдере](#only-one-case)
6. [Не работает какое-либо приложение или сайт при запущенном ByeByeDPI](#something-is-not-working)
7. [Не работает со SmartTube](#smarttube)
8. [Недавно всё работало, а сейчас не работает](#not-working-now)
9. [На телевизоре (приставке) пропадает интернет при запуске ByeByeDPI](#internet-is-lost)
10. [Нет звука в Discord](#ds-no-voice)
11. [Высокий процент, но совсем не работает](#high-not-work)
12. [На моём устройстве нельзя использовать режим VPN](#no-vpn)
13. [Очень низкие проценты (выше нуля)](#low-interest-rates)
14. [Не получается обновить или импортировать настройки](#digital-signatur)
15. [Самопроизвольное отключение ByeByeDPI](#abnormal-shutdown)
16. [Тратиться безлимитный трафик на YouTube](#spend-traffic)
17. [Проценты не отображаются - их нет](#invisible-percentage)

## <a id="crash-proxy-test">Вылетает подбор</a>

<img src="images/image-12.png" width="200">

Если во время проверки произошел сбой - необходимо зайти в **настройки Подбора** (шестерёнка справа сверху). Измените «Ожидание между командами в секундах», для начала на 3 и начините подбор заново.
Также необходимо отключить различные блокировщики рекламы, например, AdAway. Необходимо отключить все VPN.
Если сбой повторится, то измените «Ожидание между командами в секундах» на 6 и так далее, пока проверка не будет завершена (больше 9 ставить не имеет смысла).

## <a id="only-0">В ходе проверки у всех стратегий 0%</a>

Остановите приложение, очистите его данные и перезагрузить устройство.
Можно попробовать сменить порт, например, на 1082.
Если ничего не помогло - попробуйте очистить все данные ByeByeDPI, удалить приложение и поставить его заново.

## <a id="equally-low-percentage">У команд (стратегий) одинаковый невысокий процент</a>

Если устройство, на котором вы проводите проверку имеет версию Андроид меньше 11 (чаще всего проблемы на 9 Андроиде), то есть вероятность, что подбор **некорректно** отображает проценты[^1].
Настройте ByeByeDPI на более свежем андроиде (вы должны быть подключены к своей домашней сети) и перенесите настройки на устройство со старым андроидом.

> [!CAUTION]
> Связка ByeByeDPI, Android 9 и SmartTube скорее всего не будет работать совсем.

## <a id="permission">Нет разрешения на активацию VPN</a>

Если при попытке подключения вы видите надпись **Нет разрешения на активацию VPN**.

<img src="images/photo_2025-02-26_12-50-33.jpg" width="200">

Зайдите в настройки вашего телефона и откройте раздел VPN

<img src="images/Pasted image 20250305194232.png" width="200">

Если у вас такая картина: какое-то приложение постоянно работает в режиме VPN - отключите это приложение, чтобы подключения к VPN не было.
Ни в коем случае нельзя, чтобы какое-то приложение подписывалось *всегда включено*.

<img src="images/photo_2025-02-26_13-02-02.jpg" width="200">

## <a id="only-one-case">Работает только на Wi-Fi или только на мобильном интернете, или только на одном провайдере</a>

Для каждой сети нужна своя стратегия. При подключении к другой сети необходимо найти нужные аргументы командной строки, то есть провести [повторный подбор](start.md#настройка). Когда рабочая стратегия для новой сети будет найдена - вы можете [закрепить её и подписать](#features.md#редактор-командной-строки) для какой сети данная стратегия.

## <a id="something-is-not-working">Не работает какое-либо приложение или сайт при запущенном ByeByeDPI</a>

Если не работает какое-то определённое приложение, например, Телеграм - используйте [списки](features.md#белый-и-чёрный-списки).

Если не работают какие-то сайты, например, `kremlin.ru` - используйте два браузера: один добавьте в [белый список](features.md#белый-и-чёрный-списки) (в котором будет работать ByeByeDPI), а другой не добавляйте (в нём ByeByeDPI работать не будет).
Если вас не устраивает вариант с двумя браузерами, то используйте методы для [точечной маршрутизации](features.md#точечная-маршрутизация-сайтов-доменов).

## <a id="smarttube">Не работает со SmartTube</a>

> [!CAUTION]
> Если версия Андроид 9 и меньше, то, скорее всего, настроить корректную работу SmartTube в связке с ByeByeDPI не получится никак.

Если на устройстве Андроид 10 и новее, то обновите SmartTube до последней версии, попробуйте разные сетевые движки в настройках SmartTube, попробуйте настроить SmartTube в режиме прокси по данной [инструкции](#no-vpn).
Если все эти действия не помогли: попробуйте перезагрузить устройство и провести [подбор стратегий](start.md#настройка) заново.

### Ошибка 403

Данная ошибка связана исключительно с работой SmartTube. Пользователи [жаловались](https://github.com/yuliskov/SmartTube/issues/3606) на данную проблему ещё очень давно. Может помочь обновление или переустановка SmartTube.

## <a id="not-working-now">Недавно всё работало, а сейчас не работает</a>

Попробуйте очистить данные ByeByeDPI, перезагрузить телефон.
Если не помогло: попробуйте очистить данные приложения YouTube и обновить клиент YouTube до последней версии.
Если всё ещё не работает - попробуйте провести[ подбор заново](#start.md#настройка).
Если проблема не решена - добавьте браузер в [белый список](features.md#белый-и-чёрный-списки) и откройте YouTube там. Если всё работает - проблема в клиенте YouTube.

## <a id="internet-is-lost">На телевизоре (приставке) пропадает интернет при запуске ByeByeDPI</a>

Используйте [белый список](features.md#белый-и-чёрный-списки) или [точечную маршрутизацию](features.md#точечная-маршрутизация-сайтов-доменов). Но сначала проверьте, чтобы на приставке вообще был интернет (подключен Wi-Fi или Ethernet-кабель).
Если версия андроид выше 9 - можно настроить SmartTube и ByeByeDPI в [режиме прокси](features.md#режимы-vpn-и-proxy).

## <a id="ds-no-voice">Нет звука в Discord</a>

Чтобы работал Discord вы уже провели [подбор для доменов](features.md#разблокировать-свои-ресурсы). Но вы не можете подключиться к голосовому серверу.
В **настройках подбора** включите **расширенный лог**

<img src="images/image-14.png" width="200">

и используйте свой список доменов:

```
discord.com
discordapp.com
discord.gg
discord.media
discordapp.net
discordstatus.com
dis.gd
discordcdn.com
```

Один из главных моментов - ответ от домена `discord.gg`.

> [!WARNING]
> В стратегии должен быть аргумент `-Ku` - без него голосовой чат работать не будет.

Перебирайте стратегии с `-Ku` до тех пор, пока Discord и голосовой чат не начнут работать.

Наличие аргумента `-Ku` в общем случае не обязательно - просто стратегия должна иметь возможность обрабатывать UDP-трафик.

## <a id="high-not-work">Высокий процент, но совсем не работает</a>

Попробуйте **обновить** клиент YouTube.

Если случайно включили IPv6 - отключите

<img src="images/Pasted image 20250305213514.png" width="200">

Проверьте в настройках подбора количество запросов к домену: должно быть минимум 5.

- Перейдите в **настройки Подбора** (шестерёнка справа сверху)

  - <img src="images/image-3.png" width="200">

- Измените **Количество запросов к домену** на 5

  - <img src="images/image-4.png" width="200">

- Вернитесь в пункт **Подбор команд (Beta)** и нажмите на кнопку «Начать подбор»

  - <img src="images/image-5.png" width="200">

Попробуйте добавить браузер в [белый список](features.md#белый-и-чёрный-списки) и открыть YouTube там. Если всё работает - проблема в клиенте YouTube.
Попробуйте воспользоваться YouTube Revanced Extended с отключенным QUIC:
Настройки → Extended → Разное → отключите quic.

<img src="images/Pasted image 20250305214109.png" width="200">

Если такая ситуация на телевизоре и у вас андроид выше 11 - попробуйте SmartTube с движком okHttp:
**SmartTube** или **SmartTube Beta** (последние версии). Настройки → Плеер → Сетевой движок: **okHTTP**.

## <a id="no-vpn">На моём устройстве нельзя использовать режим VPN</a>

### SmartTube

Если версия андроид вашего устройства выше 9 - можно попробовать настроить SmartTube и ByeByeDPI в режиме прокси:

- Переключите режим VPN на режим прокси. В настройках _Proxy_ укажите (если предварительно не указали в командной строке):
```
Адрес: 127.0.0.1  
Порт: 1080
```
- Перейдите в настройки в SmartTube:
```
Общие → Интернет-цензура →
Адрес: 127.0.0.1, Порт: 1080, Имя и пароль: пустые, Тип: socks.
Плеер → Сетевой движок: okHTTP, Профиль видео: 2K, Максимальный размер буфера.
```

### Firefox

Если по каким-то причинам вариант со SmartTube не сработал:
- Переключите режим VPN на режим прокси. В настройках _Proxy_ укажите (если предварительно не указали в командной строке):
```
Адрес: 127.0.0.1  
Порт: 1080
```
- Скачайте `Firefox`, установите расширение `ZeroOmega--Proxy SwitchyOmega V3` и следуйте [инструкции](features.md#расширение-для-браузера). Чтобы было комфортнее смотреть YouTube можно скачать расширение `SponsorBlock`.

## <a id="low-interest-rates">Очень низкие проценты (выше нуля)</a>

Есть вероятность, что происходит перехват DNS. Укажите в системе свой DoT (DNS-over-TLS):

<img src="images/Pasted image 20250305220140.png" width="200">

<img src="images/Pasted image 20250305220209.png" width="200">

Проверенные DoT можно найти [здесь](https://dnsprivacy.org/public_resolvers/).

## <a id="digital-signatur">Не получается обновить или импортировать настройки</a>

В обновлении 1.4.2 добавлена цифровая подпись, для обновления с более старых версий на 1.4.2 и выше нужна чистая установка (удалить старый поставить новый).

Экспортировать настройки с версии 1.4.1 и старше и импортировать их на 1.4.2 и новее невозможно. Если вы хотите извлечь из файла с настройками какую-либо информацию, вы можете открыть его любым текстовым редактором.

## <a id="abnormal-shutdown">Самопроизвольное отключение ByeByeDPI</a>

- Необходимо отключить любые режимы энергосбережения для ByeByeDPI в настройках батареи.
- Отключить различные оптимизаторы.
- Проверить настройки автозапуска.
- Проверить нет ли приложения, которе может автоматически запускать режим VPN (например, NUM).
- Проверить нет ли приложения, которое постоянно использует режим VPN (подробнее про это [здесь](#permission)).

> [!WARNING]
> Приложение **NUM** может автоматичски включать VPN

Чтобы отключить запуск VPN в NUM необходимо зайти в:

```
Настройки -> Обход блокировки -> Убрать галочку на автоподключение, если она стоит
```

Если ничего из вышеперечисленного не помогло, попробуйте сменить режим работы с VPN на Proxy, если в режиме Proxy срединение не теряется и прокси работает - проблема в VPN-режиме на вашем устройстве: либо какое-то приложение занимает подключение (наприме NUM или VPNDialogs), либо на вашем устройстве нельзя включать VPN.

## <a id="spend-traffic">Тратиться безлимитный трафик на YouTube</a>

ByeByeDPI - не VPN, но при этом при его использовании тратиться безлимит на YouTube. Это происходит из-за того, что YouTube замедляют при помощи DPI и ваш трафик отслеживают при помощи DPI (например, чтобы у вас был безлимит на VK). Однако при использовании ByeByeDPI и других модификаторов пакетов, DPI не фиксирует того, что вы смотрите YouTube. Следовательно, если вы скрываетесь от DPI из-за которого у вас не работает YouTube, вы скрываетесь от DPI из-за которого у вас не начисляется за YouTube плата.

Чтобы вам не говорила техподдержка по поводу возможности доплатить за безлимит с VPN - это не сработает. Поскольку ByeByeDPI не является VPN. Даже с безлимитом на VPN при использовании ByeByeDPI трафик будет тратиться.

Для DPI трафик от ByeByeDPI в режиме VPN и режиме Proxy ничем не отличается (если хотите знать почему: читайте про режимы проки и VPN в ByeByeDPI в разделе возможности).

## <a id="invisible-percentage">Проценты не отображаются - их нет</a>

Если при подборе вы увидели такую картину:

<img src="images/photo_2025-02-18_23-13-15.jpg" width="200">

Это очень редкая ошибка с отображением. Попробуйте поменять тему на тёмную. Если не поможет: включите расширенный лог и по завершении подбора проверяйте список "Команд с успехом более 50%" сверху вниз.

---

[^1]: Проблемы могут быть из-за особенностей сетевого стека устаревшего андроида и прошивки конкретного устройства.
